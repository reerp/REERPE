@model IEnumerable<REERP.Models.Productc>

@{
    ViewBag.Title = "Inventory";
    Layout = "~/Views/Shared/_MasterPage.cshtml";
}

<link href="~/Content/katniss-template/css/jquery-ui.min.css" rel="stylesheet" />
@Styles.Render("~/Content/datatable")
@Scripts.Render("~/bundles/datatable")
<script src="/Content/katniss-template/js/jquery-ui.min.js"></script>

<table id="example" class="table table-striped table-bordered" style="width:100%">
    <thead>
    <tr>
        <th>@Html.DisplayNameFor(model => model.Category.CategoryName)</th>
        <th>@Html.DisplayNameFor(model => model.ProductName)</th>
        <th>Quantity</th>
        <th>@Html.DisplayNameFor(model => model.UnitOfMeasure)</th>
        <th>@Html.DisplayNameFor(model => model.UnitCost)</th>
        <th>@Html.DisplayNameFor(model => model.UnitPrice)</th>
    </tr>
    </thead>
    @foreach (var item in Model)
    {
        <tbody>
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Category.CategoryName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductName)
                </td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>

            </tr>
        </tbody>
    }
    <tfoot>
    <tr>
        <th>@Html.DisplayNameFor(model => model.Category.CategoryName)</th>
        <th>@Html.DisplayNameFor(model => model.ProductName)</th>
        <th>Quantity</th>
        <th>@Html.DisplayNameFor(model => model.UnitOfMeasure)</th>
        <th>@Html.DisplayNameFor(model => model.UnitCost)</th>
        <th>@Html.DisplayNameFor(model => model.UnitPrice)</th>
    </tr>
    </tfoot>
</table>

<script>
    $(document).ready(function () {
        $('#example').DataTable({
            "searching": false,
            order: [[2, 'asc']],
            rowGroup: {
                dataSrc: 2
            }
        });

        // Change the fixed ordering when the data source is updated
        table.on('rowgroup-datasrc', function (e, dt, val) {
            table.order.fixed({ pre: [[val, 'asc']] }).draw();
        });

        $('a.group-by').on('click', function (e) {
            e.preventDefault();

            table.rowGroup().dataSrc($(this).data('column'));
        });

    });
</script>